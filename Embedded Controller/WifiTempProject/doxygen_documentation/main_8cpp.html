<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WifiThermoProject: h5/Embedded Controller/WifiTempProject/src/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WifiThermoProject
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9fd24517abca70f4928f59c85236eccc.html">h5</a></li><li class="navelem"><a class="el" href="dir_11d0ba97691f1d293fdd6aa67a0e9b5e.html">Embedded Controller</a></li><li class="navelem"><a class="el" href="dir_dd39c6fe24bddac1cd17cc2a90fd841f.html">WifiTempProject</a></li><li class="navelem"><a class="el" href="dir_c053a050248f4393258cc5de1c4e8a04.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Project: WiFi Thermometer with visualization Author: Mads Søndergaard Manage: Bo Elbæk Steffensen.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &quot;FS.h&quot;</code><br />
<code>#include &quot;SD.h&quot;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;OneWire.h&gt;</code><br />
<code>#include &lt;DallasTemperature.h&gt;</code><br />
<code>#include &lt;WiFi.h&gt;</code><br />
<code>#include &lt;NTPClient.h&gt;</code><br />
<code>#include &lt;WiFiUdp.h&gt;</code><br />
<code>#include &lt;AsyncTCP.h&gt;</code><br />
<code>#include &lt;ESPAsyncWebServer.h&gt;</code><br />
<code>#include &lt;WebSocketsServer.h&gt;</code><br />
<code>#include &lt;SPIFFS.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#ah5_2_embedded_01_controller_2_wifi_temp_project_2src_2main_8cpp" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7e2d8ef8f0724f23ce84b1e7d0c171d9" id="r_a7e2d8ef8f0724f23ce84b1e7d0c171d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a7e2d8ef8f0724f23ce84b1e7d0c171d9">SD_CS</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a7e2d8ef8f0724f23ce84b1e7d0c171d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define CS pin for the SD card module.  <br /></td></tr>
<tr class="separator:a7e2d8ef8f0724f23ce84b1e7d0c171d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4260ed8874da804fb9ef9abba200b487" id="r_a4260ed8874da804fb9ef9abba200b487"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a4260ed8874da804fb9ef9abba200b487">ONE_WIRE_BUS</a>&#160;&#160;&#160;21</td></tr>
<tr class="memdesc:a4260ed8874da804fb9ef9abba200b487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data wire is connected to ESP32 GPIO 21.  <br /></td></tr>
<tr class="separator:a4260ed8874da804fb9ef9abba200b487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5486258f1f34d3baeda92a74b63c27c3" id="r_a5486258f1f34d3baeda92a74b63c27c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a5486258f1f34d3baeda92a74b63c27c3">TASK_STACK_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:a5486258f1f34d3baeda92a74b63c27c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define task stack size.  <br /></td></tr>
<tr class="separator:a5486258f1f34d3baeda92a74b63c27c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e8798f6b2d315a183aa829616edfb1" id="r_a36e8798f6b2d315a183aa829616edfb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a36e8798f6b2d315a183aa829616edfb1">TASK_DELAY_MS</a>&#160;&#160;&#160;30000</td></tr>
<tr class="memdesc:a36e8798f6b2d315a183aa829616edfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define task delay (5 minutes) // testing: 30 seconds.  <br /></td></tr>
<tr class="separator:a36e8798f6b2d315a183aa829616edfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a85f30d66aa1231313c8553fd485b22b1" id="r_a85f30d66aa1231313c8553fd485b22b1"><td class="memItemLeft" align="right" valign="top">AsyncWebServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a85f30d66aa1231313c8553fd485b22b1">server</a> (80)</td></tr>
<tr class="separator:a85f30d66aa1231313c8553fd485b22b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525911a7ceacbefbe342d1ebd29c884f" id="r_a525911a7ceacbefbe342d1ebd29c884f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a525911a7ceacbefbe342d1ebd29c884f">setTimezone</a> (String timezone)</td></tr>
<tr class="separator:a525911a7ceacbefbe342d1ebd29c884f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd24b36ef8125b5b50e866ffdf9c805" id="r_a2bd24b36ef8125b5b50e866ffdf9c805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a2bd24b36ef8125b5b50e866ffdf9c805">initSPIFFS</a> ()</td></tr>
<tr class="separator:a2bd24b36ef8125b5b50e866ffdf9c805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdfe491c3b951586aeba25a0b8ccf80" id="r_adfdfe491c3b951586aeba25a0b8ccf80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#adfdfe491c3b951586aeba25a0b8ccf80">writeFile</a> (fs::FS &amp;fs, const char *path, const char *message)</td></tr>
<tr class="separator:adfdfe491c3b951586aeba25a0b8ccf80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c708660ca240d82a93c9ab590d4410" id="r_a22c708660ca240d82a93c9ab590d4410"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a22c708660ca240d82a93c9ab590d4410">appendFile</a> (fs::FS &amp;fs, const char *path, const char *message)</td></tr>
<tr class="separator:a22c708660ca240d82a93c9ab590d4410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f397dc6088ac03f320312b0d95b5a7" id="r_a62f397dc6088ac03f320312b0d95b5a7"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a62f397dc6088ac03f320312b0d95b5a7">readFile</a> (fs::FS &amp;fs, const char *path)</td></tr>
<tr class="separator:a62f397dc6088ac03f320312b0d95b5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99db7e078eba550fd435da529d43d732" id="r_a99db7e078eba550fd435da529d43d732"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a99db7e078eba550fd435da529d43d732">readSDFile</a> (const char *path)</td></tr>
<tr class="separator:a99db7e078eba550fd435da529d43d732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595ec19c0b29e66f9e664f1b5328ffd5" id="r_a595ec19c0b29e66f9e664f1b5328ffd5"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a595ec19c0b29e66f9e664f1b5328ffd5">getReadings</a> ()</td></tr>
<tr class="separator:a595ec19c0b29e66f9e664f1b5328ffd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a0084b13c79deecd4b86912a4fe9ec" id="r_ac6a0084b13c79deecd4b86912a4fe9ec"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ac6a0084b13c79deecd4b86912a4fe9ec">readLastLine</a> (const char *path)</td></tr>
<tr class="separator:ac6a0084b13c79deecd4b86912a4fe9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8a31573e5fe960f4d00d0891f7dfc5" id="r_aad8a31573e5fe960f4d00d0891f7dfc5"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aad8a31573e5fe960f4d00d0891f7dfc5">tempHistory</a> ()</td></tr>
<tr class="separator:aad8a31573e5fe960f4d00d0891f7dfc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c42102313651a66a4bf03ef1157398b" id="r_a8c42102313651a66a4bf03ef1157398b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a8c42102313651a66a4bf03ef1157398b">getTimeStamp</a> ()</td></tr>
<tr class="separator:a8c42102313651a66a4bf03ef1157398b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b84465ba13d1ffbbd8984454b314f52" id="r_a9b84465ba13d1ffbbd8984454b314f52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a9b84465ba13d1ffbbd8984454b314f52">logSDCard</a> ()</td></tr>
<tr class="separator:a9b84465ba13d1ffbbd8984454b314f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580252124029d468dc780876bb348bf5" id="r_a580252124029d468dc780876bb348bf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a580252124029d468dc780876bb348bf5">deleteLog</a> ()</td></tr>
<tr class="separator:a580252124029d468dc780876bb348bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cd6362ffeb905d21037483b851e723" id="r_ae3cd6362ffeb905d21037483b851e723"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ae3cd6362ffeb905d21037483b851e723">initWiFi</a> ()</td></tr>
<tr class="separator:ae3cd6362ffeb905d21037483b851e723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd19f14e0a3f521187547d5a1dca891" id="r_afcd19f14e0a3f521187547d5a1dca891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#afcd19f14e0a3f521187547d5a1dca891">handleWebSocketEvent</a> (uint8_t num, WStype_t type, uint8_t *payload, size_t length)</td></tr>
<tr class="separator:afcd19f14e0a3f521187547d5a1dca891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005f644cec2e49714acbf46b58f2864c" id="r_a005f644cec2e49714acbf46b58f2864c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a005f644cec2e49714acbf46b58f2864c">handleDeleteReading</a> (AsyncWebServerRequest *request)</td></tr>
<tr class="separator:a005f644cec2e49714acbf46b58f2864c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d9df3eefcf1ee3dcb8c346e706ed62" id="r_a08d9df3eefcf1ee3dcb8c346e706ed62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a08d9df3eefcf1ee3dcb8c346e706ed62">handleFileUpload</a> (AsyncWebServerRequest *request, String filename, size_t index, uint8_t *data, size_t len, bool final)</td></tr>
<tr class="memdesc:a08d9df3eefcf1ee3dcb8c346e706ed62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles file upload by storing it in a temporary file, and if succesful, removes data.txt and renames the temporary file to data.txt instead.  <br /></td></tr>
<tr class="separator:a08d9df3eefcf1ee3dcb8c346e706ed62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a1d00f74fee641b711f7f00b8053c1a" id="r_a8a1d00f74fee641b711f7f00b8053c1a"><td class="memItemLeft" align="right" valign="top">OneWire&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a8a1d00f74fee641b711f7f00b8053c1a">oneWire</a> (<a class="el" href="main_8cpp.html#a4260ed8874da804fb9ef9abba200b487">ONE_WIRE_BUS</a>)</td></tr>
<tr class="memdesc:a8a1d00f74fee641b711f7f00b8053c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a oneWire instance to communicate with a OneWire device on the designated data wire.  <br /></td></tr>
<tr class="separator:a8a1d00f74fee641b711f7f00b8053c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e5d548d87de5bf811e50e939140823" id="r_a88e5d548d87de5bf811e50e939140823"><td class="memItemLeft" align="right" valign="top">NTPClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a88e5d548d87de5bf811e50e939140823">timeClient</a> (<a class="el" href="main_8cpp.html#a22f33e7e05df58bb6145bb6e543e232a">ntpUDP</a>)</td></tr>
<tr class="separator:a88e5d548d87de5bf811e50e939140823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a05bd8c8aabcf5a241ae6a8bcbd4ac0" id="r_a0a05bd8c8aabcf5a241ae6a8bcbd4ac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a0a05bd8c8aabcf5a241ae6a8bcbd4ac0">getReadingsTask</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a0a05bd8c8aabcf5a241ae6a8bcbd4ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task to call <a class="el" href="main_8cpp.html#a595ec19c0b29e66f9e664f1b5328ffd5">getReadings()</a> periodically.  <br /></td></tr>
<tr class="separator:a0a05bd8c8aabcf5a241ae6a8bcbd4ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76885ff92d892ed81078529df4c4e0b1" id="r_a76885ff92d892ed81078529df4c4e0b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a76885ff92d892ed81078529df4c4e0b1">webSocketTask</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a76885ff92d892ed81078529df4c4e0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task to run WebSocket:  <br /></td></tr>
<tr class="separator:a76885ff92d892ed81078529df4c4e0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d" id="r_a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f" id="r_afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5a9d65f1a8d9a12255db818887b5bcd3" id="r_a5a9d65f1a8d9a12255db818887b5bcd3"><td class="memItemLeft" align="right" valign="top">WebSocketsServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a5a9d65f1a8d9a12255db818887b5bcd3">webSocket</a> = WebSocketsServer(81)</td></tr>
<tr class="separator:a5a9d65f1a8d9a12255db818887b5bcd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af994acd89c43bc66aeb3fa5affb4c3e2" id="r_af994acd89c43bc66aeb3fa5affb4c3e2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#af994acd89c43bc66aeb3fa5affb4c3e2">ssidPath</a> = &quot;/ssid.txt&quot;</td></tr>
<tr class="memdesc:af994acd89c43bc66aeb3fa5affb4c3e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to configuration file containing SSID.  <br /></td></tr>
<tr class="separator:af994acd89c43bc66aeb3fa5affb4c3e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6262da0f52f5aa8accf052bf0081104" id="r_ac6262da0f52f5aa8accf052bf0081104"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ac6262da0f52f5aa8accf052bf0081104">passPath</a> = &quot;/pass.txt&quot;</td></tr>
<tr class="memdesc:ac6262da0f52f5aa8accf052bf0081104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to configuration file containing Password.  <br /></td></tr>
<tr class="separator:ac6262da0f52f5aa8accf052bf0081104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454c4ab726de0051333b4a76033000cf" id="r_a454c4ab726de0051333b4a76033000cf"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a454c4ab726de0051333b4a76033000cf">PARAM_INPUT_1</a> = &quot;ssid&quot;</td></tr>
<tr class="memdesc:a454c4ab726de0051333b4a76033000cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable used to check input is from the SSID field.  <br /></td></tr>
<tr class="separator:a454c4ab726de0051333b4a76033000cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9051a630d6ada86bd19c8b2a81931a2d" id="r_a9051a630d6ada86bd19c8b2a81931a2d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a9051a630d6ada86bd19c8b2a81931a2d">PARAM_INPUT_2</a> = &quot;pass&quot;</td></tr>
<tr class="memdesc:a9051a630d6ada86bd19c8b2a81931a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable used to check input is from the Password field.  <br /></td></tr>
<tr class="separator:a9051a630d6ada86bd19c8b2a81931a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ad29a96a68299c6ba72fb9bf2e4901" id="r_a48ad29a96a68299c6ba72fb9bf2e4901"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a48ad29a96a68299c6ba72fb9bf2e4901">DEL_READING_INPUT</a> = &quot;readingID&quot;</td></tr>
<tr class="memdesc:a48ad29a96a68299c6ba72fb9bf2e4901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable used to verify parameter is for deleting specific line in readings file (data.txt)  <br /></td></tr>
<tr class="separator:a48ad29a96a68299c6ba72fb9bf2e4901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519725e0c97d7f502af54e1b185fbc09" id="r_a519725e0c97d7f502af54e1b185fbc09"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a519725e0c97d7f502af54e1b185fbc09">pass</a></td></tr>
<tr class="separator:a519725e0c97d7f502af54e1b185fbc09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9223d0e377e234d679946b194a81dcf3" id="r_a9223d0e377e234d679946b194a81dcf3"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a9223d0e377e234d679946b194a81dcf3">ssid</a></td></tr>
<tr class="separator:a9223d0e377e234d679946b194a81dcf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fa5ca95856a446faaf631b187ec596" id="r_a29fa5ca95856a446faaf631b187ec596"><td class="memItemLeft" align="right" valign="top">RTC_DATA_ATTR int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a29fa5ca95856a446faaf631b187ec596">readingID</a> = 0</td></tr>
<tr class="memdesc:a29fa5ca95856a446faaf631b187ec596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save reading number on RTC memory.  <br /></td></tr>
<tr class="separator:a29fa5ca95856a446faaf631b187ec596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6e69693cc824bcb0c95766c8a13e83" id="r_a8d6e69693cc824bcb0c95766c8a13e83"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a8d6e69693cc824bcb0c95766c8a13e83">dataMessage</a></td></tr>
<tr class="separator:a8d6e69693cc824bcb0c95766c8a13e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18aa2e713b723d14e68fe9df63be78a3" id="r_a18aa2e713b723d14e68fe9df63be78a3"><td class="memItemLeft" align="right" valign="top">DallasTemperature sensors &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a18aa2e713b723d14e68fe9df63be78a3">oneWire</a></td></tr>
<tr class="memdesc:a18aa2e713b723d14e68fe9df63be78a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass our oneWire reference to Dallas Temperature sensor.  <br /></td></tr>
<tr class="separator:a18aa2e713b723d14e68fe9df63be78a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1d28cfbce795d6ea954ebe725241f5" id="r_afc1d28cfbce795d6ea954ebe725241f5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a></td></tr>
<tr class="memdesc:afc1d28cfbce795d6ea954ebe725241f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temperature Sensor variables.  <br /></td></tr>
<tr class="separator:afc1d28cfbce795d6ea954ebe725241f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f33e7e05df58bb6145bb6e543e232a" id="r_a22f33e7e05df58bb6145bb6e543e232a"><td class="memItemLeft" align="right" valign="top">WiFiUDP&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a22f33e7e05df58bb6145bb6e543e232a">ntpUDP</a></td></tr>
<tr class="memdesc:a22f33e7e05df58bb6145bb6e543e232a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define NTP Client to get time.  <br /></td></tr>
<tr class="separator:a22f33e7e05df58bb6145bb6e543e232a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d4af477910310a754f78f753169ae8" id="r_aa3d4af477910310a754f78f753169ae8"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aa3d4af477910310a754f78f753169ae8">formattedDate</a></td></tr>
<tr class="memdesc:aa3d4af477910310a754f78f753169ae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variables to save date and time.  <br /></td></tr>
<tr class="separator:aa3d4af477910310a754f78f753169ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d11ae2a7b09076e335115cf450849f" id="r_a16d11ae2a7b09076e335115cf450849f"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a16d11ae2a7b09076e335115cf450849f">dayStamp</a></td></tr>
<tr class="separator:a16d11ae2a7b09076e335115cf450849f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893697b85f49be403fbd0531799a33aa" id="r_a893697b85f49be403fbd0531799a33aa"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a893697b85f49be403fbd0531799a33aa">timeStamp</a></td></tr>
<tr class="separator:a893697b85f49be403fbd0531799a33aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856a4dc2365377e5fed42c5e1be72043" id="r_a856a4dc2365377e5fed42c5e1be72043"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a856a4dc2365377e5fed42c5e1be72043">taskHandle</a> = NULL</td></tr>
<tr class="memdesc:a856a4dc2365377e5fed42c5e1be72043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define task handle:  <br /></td></tr>
<tr class="separator:a856a4dc2365377e5fed42c5e1be72043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb919d67ef18c6e399e0be12fe64a054" id="r_adb919d67ef18c6e399e0be12fe64a054"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#adb919d67ef18c6e399e0be12fe64a054">webSocketTaskHandle</a> = NULL</td></tr>
<tr class="separator:adb919d67ef18c6e399e0be12fe64a054"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Project: WiFi Thermometer with visualization Author: Mads Søndergaard Manage: Bo Elbæk Steffensen. </p>
<p>Added functionality beyond requirement specifications:</p><ul>
<li>Added download option for stored temperature data (entire .txt file)</li>
<li>Added slider to widen or narrow the range (temporal) of data </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4260ed8874da804fb9ef9abba200b487" name="a4260ed8874da804fb9ef9abba200b487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4260ed8874da804fb9ef9abba200b487">&#9670;&#160;</a></span>ONE_WIRE_BUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ONE_WIRE_BUS&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data wire is connected to ESP32 GPIO 21. </p>

</div>
</div>
<a id="a7e2d8ef8f0724f23ce84b1e7d0c171d9" name="a7e2d8ef8f0724f23ce84b1e7d0c171d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e2d8ef8f0724f23ce84b1e7d0c171d9">&#9670;&#160;</a></span>SD_CS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_CS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define CS pin for the SD card module. </p>

</div>
</div>
<a id="a36e8798f6b2d315a183aa829616edfb1" name="a36e8798f6b2d315a183aa829616edfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e8798f6b2d315a183aa829616edfb1">&#9670;&#160;</a></span>TASK_DELAY_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_DELAY_MS&#160;&#160;&#160;30000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define task delay (5 minutes) // testing: 30 seconds. </p>

</div>
</div>
<a id="a5486258f1f34d3baeda92a74b63c27c3" name="a5486258f1f34d3baeda92a74b63c27c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5486258f1f34d3baeda92a74b63c27c3">&#9670;&#160;</a></span>TASK_STACK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_STACK_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define task stack size. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a22c708660ca240d82a93c9ab590d4410" name="a22c708660ca240d82a93c9ab590d4410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c708660ca240d82a93c9ab590d4410">&#9670;&#160;</a></span>appendFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appendFile </td>
          <td>(</td>
          <td class="paramtype">fs::FS &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a580252124029d468dc780876bb348bf5" name="a580252124029d468dc780876bb348bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580252124029d468dc780876bb348bf5">&#9670;&#160;</a></span>deleteLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deleteLog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes the Thermometer readings if present.</p>

</div>
</div>
<a id="a595ec19c0b29e66f9e664f1b5328ffd5" name="a595ec19c0b29e66f9e664f1b5328ffd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595ec19c0b29e66f9e664f1b5328ffd5">&#9670;&#160;</a></span>getReadings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String getReadings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets temperature from DS18B20 Sensor and returns the string value to the javascript reponsible for plotting the new readings. Additionally gets timestamp, increments the readingID variable, and logs it to the data.txt file on the SD card.</p>
<p>Get timestamp</p>
<p>Increment readingID.</p>
<p>Log to SD Card</p>

</div>
</div>
<a id="a0a05bd8c8aabcf5a241ae6a8bcbd4ac0" name="a0a05bd8c8aabcf5a241ae6a8bcbd4ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a05bd8c8aabcf5a241ae6a8bcbd4ac0">&#9670;&#160;</a></span>getReadingsTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getReadingsTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task to call <a class="el" href="main_8cpp.html#a595ec19c0b29e66f9e664f1b5328ffd5">getReadings()</a> periodically. </p>

</div>
</div>
<a id="a8c42102313651a66a4bf03ef1157398b" name="a8c42102313651a66a4bf03ef1157398b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c42102313651a66a4bf03ef1157398b">&#9670;&#160;</a></span>getTimeStamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getTimeStamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to get date and time from NTPClient</p>
<p>The formattedDate comes with the following format: 2018-05-28T16:00:13Z We need to extract date and time</p>
<p>Extract date</p>
<p>Extract time</p>

</div>
</div>
<a id="a005f644cec2e49714acbf46b58f2864c" name="a005f644cec2e49714acbf46b58f2864c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005f644cec2e49714acbf46b58f2864c">&#9670;&#160;</a></span>handleDeleteReading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleDeleteReading </td>
          <td>(</td>
          <td class="paramtype">AsyncWebServerRequest *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles POST request to delete a specific reading given a readingID</p>

</div>
</div>
<a id="a08d9df3eefcf1ee3dcb8c346e706ed62" name="a08d9df3eefcf1ee3dcb8c346e706ed62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d9df3eefcf1ee3dcb8c346e706ed62">&#9670;&#160;</a></span>handleFileUpload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleFileUpload </td>
          <td>(</td>
          <td class="paramtype">AsyncWebServerRequest *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>final</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles file upload by storing it in a temporary file, and if succesful, removes data.txt and renames the temporary file to data.txt instead. </p>

</div>
</div>
<a id="afcd19f14e0a3f521187547d5a1dca891" name="afcd19f14e0a3f521187547d5a1dca891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd19f14e0a3f521187547d5a1dca891">&#9670;&#160;</a></span>handleWebSocketEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleWebSocketEvent </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WStype_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles websocket events for troubleshooting purposes</p>

</div>
</div>
<a id="a2bd24b36ef8125b5b50e866ffdf9c805" name="a2bd24b36ef8125b5b50e866ffdf9c805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd24b36ef8125b5b50e866ffdf9c805">&#9670;&#160;</a></span>initSPIFFS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initSPIFFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to initialize SPI filesystem and checks whether it fails or not.</p>

</div>
</div>
<a id="ae3cd6362ffeb905d21037483b851e723" name="ae3cd6362ffeb905d21037483b851e723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cd6362ffeb905d21037483b851e723">&#9670;&#160;</a></span>initWiFi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool initWiFi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to initialize WiFi connection. If SSID or Password is not supplied, returns false so the user is prompted to supply these. Otherwise initiates the connection using those stored data, and gets the time via the NTPClient.</p>

</div>
</div>
<a id="a9b84465ba13d1ffbbd8984454b314f52" name="a9b84465ba13d1ffbbd8984454b314f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b84465ba13d1ffbbd8984454b314f52">&#9670;&#160;</a></span>logSDCard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logSDCard </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Takes the gathered data and appends it to the data.txt file stored on the SD.</p>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loop() is unused.</p>

</div>
</div>
<a id="a8a1d00f74fee641b711f7f00b8053c1a" name="a8a1d00f74fee641b711f7f00b8053c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a1d00f74fee641b711f7f00b8053c1a">&#9670;&#160;</a></span>oneWire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OneWire oneWire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8cpp.html#a4260ed8874da804fb9ef9abba200b487">ONE_WIRE_BUS</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup a oneWire instance to communicate with a OneWire device on the designated data wire. </p>

</div>
</div>
<a id="a62f397dc6088ac03f320312b0d95b5a7" name="a62f397dc6088ac03f320312b0d95b5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62f397dc6088ac03f320312b0d95b5a7">&#9670;&#160;</a></span>readFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String readFile </td>
          <td>(</td>
          <td class="paramtype">fs::FS &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to read the file at a given path, using the designated filesystem.</p>

</div>
</div>
<a id="ac6a0084b13c79deecd4b86912a4fe9ec" name="ac6a0084b13c79deecd4b86912a4fe9ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a0084b13c79deecd4b86912a4fe9ec">&#9670;&#160;</a></span>readLastLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String readLastLine </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a99db7e078eba550fd435da529d43d732" name="a99db7e078eba550fd435da529d43d732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99db7e078eba550fd435da529d43d732">&#9670;&#160;</a></span>readSDFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String readSDFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads contents of SD card files.</p>

</div>
</div>
<a id="a85f30d66aa1231313c8553fd485b22b1" name="a85f30d66aa1231313c8553fd485b22b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f30d66aa1231313c8553fd485b22b1">&#9670;&#160;</a></span>server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AsyncWebServer server </td>
          <td>(</td>
          <td class="paramtype">80&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a525911a7ceacbefbe342d1ebd29c884f" name="a525911a7ceacbefbe342d1ebd29c884f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525911a7ceacbefbe342d1ebd29c884f">&#9670;&#160;</a></span>setTimezone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTimezone </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>timezone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the timezone for the environment using the String passed</p>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets up the ESP32. Specifically:</p>
<p>Start serial communication for debugging purposes</p>
<p>Initialize SD card</p>
<p>If the data.txt file doesn't exist Create a file on the SD card and write the data labels</p>
<p>Initaite task to run periodically:</p>
<p>Attempt to initialize WiFi, and if succesful, serve endpoints (/temperature, /history, /download). Used in index.html script.</p>
<p>If unsuccesful, starts local open AP for the user to connect to and configure</p>
<p>Get user configurations and store them in their respective files.</p>
<p>Start the DallasTemperature library</p>
<p>Set up websocket event handler.</p>

</div>
</div>
<a id="aad8a31573e5fe960f4d00d0891f7dfc5" name="aad8a31573e5fe960f4d00d0891f7dfc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8a31573e5fe960f4d00d0891f7dfc5">&#9670;&#160;</a></span>tempHistory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String tempHistory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetches the entirety of the data.txt contents. To be sent to Javascript for processing (i.e. turning the CSV data into visualized data) This is done to avoid load on the ESP32, but also due to the complexity of attempting to do so on the ESP, rather than with simple Javascript comprehension.</p>

</div>
</div>
<a id="a88e5d548d87de5bf811e50e939140823" name="a88e5d548d87de5bf811e50e939140823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e5d548d87de5bf811e50e939140823">&#9670;&#160;</a></span>timeClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NTPClient timeClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8cpp.html#a22f33e7e05df58bb6145bb6e543e232a">ntpUDP</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a76885ff92d892ed81078529df4c4e0b1" name="a76885ff92d892ed81078529df4c4e0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76885ff92d892ed81078529df4c4e0b1">&#9670;&#160;</a></span>webSocketTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void webSocketTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task to run WebSocket: </p>

</div>
</div>
<a id="adfdfe491c3b951586aeba25a0b8ccf80" name="adfdfe491c3b951586aeba25a0b8ccf80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdfe491c3b951586aeba25a0b8ccf80">&#9670;&#160;</a></span>writeFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeFile </td>
          <td>(</td>
          <td class="paramtype">fs::FS &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to write to the file at the designated path (path), based on the defined filesystem (fs).</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8d6e69693cc824bcb0c95766c8a13e83" name="a8d6e69693cc824bcb0c95766c8a13e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d6e69693cc824bcb0c95766c8a13e83">&#9670;&#160;</a></span>dataMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String dataMessage</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a16d11ae2a7b09076e335115cf450849f" name="a16d11ae2a7b09076e335115cf450849f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d11ae2a7b09076e335115cf450849f">&#9670;&#160;</a></span>dayStamp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String dayStamp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a48ad29a96a68299c6ba72fb9bf2e4901" name="a48ad29a96a68299c6ba72fb9bf2e4901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ad29a96a68299c6ba72fb9bf2e4901">&#9670;&#160;</a></span>DEL_READING_INPUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* DEL_READING_INPUT = &quot;readingID&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable used to verify parameter is for deleting specific line in readings file (data.txt) </p>

</div>
</div>
<a id="aa3d4af477910310a754f78f753169ae8" name="aa3d4af477910310a754f78f753169ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3d4af477910310a754f78f753169ae8">&#9670;&#160;</a></span>formattedDate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String formattedDate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variables to save date and time. </p>

</div>
</div>
<a id="a22f33e7e05df58bb6145bb6e543e232a" name="a22f33e7e05df58bb6145bb6e543e232a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f33e7e05df58bb6145bb6e543e232a">&#9670;&#160;</a></span>ntpUDP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WiFiUDP ntpUDP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define NTP Client to get time. </p>

</div>
</div>
<a id="a18aa2e713b723d14e68fe9df63be78a3" name="a18aa2e713b723d14e68fe9df63be78a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18aa2e713b723d14e68fe9df63be78a3">&#9670;&#160;</a></span>oneWire</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DallasTemperature sensors&amp; oneWire</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pass our oneWire reference to Dallas Temperature sensor. </p>

</div>
</div>
<a id="a454c4ab726de0051333b4a76033000cf" name="a454c4ab726de0051333b4a76033000cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454c4ab726de0051333b4a76033000cf">&#9670;&#160;</a></span>PARAM_INPUT_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* PARAM_INPUT_1 = &quot;ssid&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable used to check input is from the SSID field. </p>

</div>
</div>
<a id="a9051a630d6ada86bd19c8b2a81931a2d" name="a9051a630d6ada86bd19c8b2a81931a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9051a630d6ada86bd19c8b2a81931a2d">&#9670;&#160;</a></span>PARAM_INPUT_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* PARAM_INPUT_2 = &quot;pass&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable used to check input is from the Password field. </p>

</div>
</div>
<a id="a519725e0c97d7f502af54e1b185fbc09" name="a519725e0c97d7f502af54e1b185fbc09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519725e0c97d7f502af54e1b185fbc09">&#9670;&#160;</a></span>pass</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String pass</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6262da0f52f5aa8accf052bf0081104" name="ac6262da0f52f5aa8accf052bf0081104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6262da0f52f5aa8accf052bf0081104">&#9670;&#160;</a></span>passPath</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* passPath = &quot;/pass.txt&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Path to configuration file containing Password. </p>

</div>
</div>
<a id="a29fa5ca95856a446faaf631b187ec596" name="a29fa5ca95856a446faaf631b187ec596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29fa5ca95856a446faaf631b187ec596">&#9670;&#160;</a></span>readingID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTC_DATA_ATTR int readingID = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save reading number on RTC memory. </p>

</div>
</div>
<a id="a9223d0e377e234d679946b194a81dcf3" name="a9223d0e377e234d679946b194a81dcf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9223d0e377e234d679946b194a81dcf3">&#9670;&#160;</a></span>ssid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String ssid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af994acd89c43bc66aeb3fa5affb4c3e2" name="af994acd89c43bc66aeb3fa5affb4c3e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af994acd89c43bc66aeb3fa5affb4c3e2">&#9670;&#160;</a></span>ssidPath</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ssidPath = &quot;/ssid.txt&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Path to configuration file containing SSID. </p>

</div>
</div>
<a id="a856a4dc2365377e5fed42c5e1be72043" name="a856a4dc2365377e5fed42c5e1be72043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856a4dc2365377e5fed42c5e1be72043">&#9670;&#160;</a></span>taskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t taskHandle = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define task handle: </p>

</div>
</div>
<a id="afc1d28cfbce795d6ea954ebe725241f5" name="afc1d28cfbce795d6ea954ebe725241f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc1d28cfbce795d6ea954ebe725241f5">&#9670;&#160;</a></span>temperature</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float temperature</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temperature Sensor variables. </p>

</div>
</div>
<a id="a893697b85f49be403fbd0531799a33aa" name="a893697b85f49be403fbd0531799a33aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893697b85f49be403fbd0531799a33aa">&#9670;&#160;</a></span>timeStamp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String timeStamp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a9d65f1a8d9a12255db818887b5bcd3" name="a5a9d65f1a8d9a12255db818887b5bcd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a9d65f1a8d9a12255db818887b5bcd3">&#9670;&#160;</a></span>webSocket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WebSocketsServer webSocket = WebSocketsServer(81)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adb919d67ef18c6e399e0be12fe64a054" name="adb919d67ef18c6e399e0be12fe64a054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb919d67ef18c6e399e0be12fe64a054">&#9670;&#160;</a></span>webSocketTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t webSocketTaskHandle = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
